(this.webpackJsonpswipeforfuture=this.webpackJsonpswipeforfuture||[]).push([[0],{23:function(e,t,n){e.exports=n(35)},28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(5),o=n.n(r),c=(n(28),n(2)),l=n(3),s=n(6),d=n(7),u=n(9),m=n(8),p=n(10),f=n(22),h=n(4),y=n(16),g=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.i,n=e.x,a=e.y,r=e.rot,o=e.scale,c=e.trans,l=e.bind,s=e.cardData,d=s.title,u=s.distance,m=s.text,p=s.image;return i.a.createElement(h.a.div,{key:t,style:{transform:Object(h.b)([n,a],(function(e,t){return"translate3d(".concat(e,"px,").concat(t,"px,0)")}))}},i.a.createElement(h.a.div,Object.assign({},l(t),{style:{transform:Object(h.b)([r,o],c)}}),i.a.createElement("div",{className:"card"},i.a.createElement("img",{src:p||"",alt:d,style:{width:"100%"}}),i.a.createElement("h2",null,d),i.a.createElement("h5",null,u),i.a.createElement("h5",null,m))))}}]),t}(i.a.Component),b=(n(29),function(e){return{x:0,y:-10*e,scale:1,rot:2*Math.random(),delay:100*e}}),v=function(e){return{rot:0,scale:1.5,y:-1e3}},w=function(e,t){return"perspective(1500px) rotateX(30deg) rotateY(".concat(e/10,"deg) rotateZ(").concat(e,"deg) scale(").concat(t,")")};var x=function(e){var t=e.onSwipe,n=e.cards,r=Object(a.useState)((function(){return new Set})),o=Object(l.a)(r,1)[0],c=Object(h.c)(n.length,(function(e){return Object(f.a)({},b(e),{from:v(e)})})),s=Object(l.a)(c,2),d=s[0],u=s[1],m=Object(y.a)((function(e){var a=Object(l.a)(e.args,1)[0],i=e.down,r=Object(l.a)(e.delta,1)[0],c=(e.distance,Object(l.a)(e.direction,1)[0]),s=e.velocity,d=c<0?-1:1;!i&&s>.2&&(o.add(a),t(n[a],d)),u((function(e){if(a===e){var t=o.has(a);return{x:t?(200+window.innerWidth)*d:i?r:0,rot:r/100+(t?10*d*s:0),scale:i?1.1:1,delay:void 0,config:{friction:50,tension:i?800:t?200:500}}}})),i||o.size!==n.length||setTimeout((function(){return o.clear()||u((function(e){return b(e)}))}),600)}));return i.a.createElement("div",{className:"deck-root"},d.map((function(e,t){var a=e.x,r=e.y,o=e.rot,c=e.scale;return i.a.createElement(g,{i:t,key:t,x:a,y:r,rot:o,scale:c,trans:w,cardData:n[t],bind:m})})))},E=n(19),j=n(11),O=c.a.div.withConfig({displayName:"Bar__Container",componentId:"bgb4rv-0"})(["margin-top:10px;width:40px;height:8px;border-radius:4px;background:#546a76;"]),k=c.a.div.withConfig({displayName:"Bar__Value",componentId:"bgb4rv-1"})(["position:relative;top:1px;left:1px;height:6px;max-width:38px;border-radius:3px;"]);function S(e){return e<=30?"#dd7373":e<=70?"#e7e247":"#91c779"}var C=function(e){var t=e.value,n=void 0===t?100:t;return i.a.createElement(O,null,i.a.createElement(k,{style:{width:"".concat(n,"%"),backgroundColor:S(n)}}))},_=c.a.header.withConfig({displayName:"Stats__Container",componentId:"hfx8u6-0"})(["background:#f6fbf5;display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;"]),I=c.a.div.withConfig({displayName:"Stats__Stat",componentId:"hfx8u6-1"})(["display:flex;justify-content:space-between;align-items:center;flex-direction:column;"]),N=c.a.div.withConfig({displayName:"Stats__Icon",componentId:"hfx8u6-2"})(["width:40px;height:40px;border-radius:50%;background:#91c779;display:flex;justify-content:center;align-items:center;"]);var W=function(e){var t=e.stats;return i.a.createElement(_,null,i.a.createElement(I,null,i.a.createElement(N,null,i.a.createElement(j.c,{size:"80%"})),i.a.createElement(C,{value:t.environment})),i.a.createElement(I,null,i.a.createElement(N,null,i.a.createElement(E.a,{size:"80%"})),i.a.createElement(C,{value:t.people})),i.a.createElement(I,null,i.a.createElement(N,null,i.a.createElement(j.a,{size:"80%"})),i.a.createElement(C,{value:t.security})),i.a.createElement(I,null,i.a.createElement(N,null,i.a.createElement(j.b,{size:"80%"})),i.a.createElement(C,{value:t.money})))},z=[{type:"decision",image:"https://images.unsplash.com/photo-1561623002-b3520705eccf?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",title:"We need power.",distance:"4 miles away",text:"Lorem ipsum COALar sit amet consectetur, adipisicing elit.",actions:{left:{modifier:{environment:-100,people:-100,security:-100,money:-100}},right:{modifier:{environment:40,people:60,security:75,money:90}}}},{type:"decision",image:"https://images.unsplash.com/photo-1497435334941-8c899ee9e8e9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",title:"Invest in solar?",distance:"100 miles away",text:"Lorem ipsum SOLAR sit amet consectetur, adipisicing elit.",actions:{left:{modifier:{environment:-100,people:-100,security:-100,money:-100}},right:{modifier:{environment:40,people:60,security:75,money:90}}}},{type:"endgame",image:"https://images.unsplash.com/photo-1497039465987-61d305728610?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",title:"The World Has Ended.",distance:"100 miles away",text:"Please find a new planet to destroy, if you want to proceed. And do not try to swipe. Please.",actions:{}}],D=c.a.footer.withConfig({displayName:"Game__Footer",componentId:"lrnx5z-0"})(["display:flex;justify-content:center;align-items:center;"]),B=-1,M=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state=n.getInitialState(),n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getInitialState",value:function(){return{world:{environment:40,people:60,security:75,money:90},hasEnded:!1}}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(W,{stats:this.state.world}),i.a.createElement(x,{key:this.state.hasEnded,onSwipe:this.onSwipe.bind(this),cards:z.filter((function(t){return e.state.hasEnded?"endgame"===t.type:"decision"===t.type}))}),i.a.createElement(D,null,i.a.createElement("div",{className:"time-remaining"})))}},{key:"onSwipe",value:function(e,t){"endgame"!==e.type?(console.log("swipe ",t,e.title),this.updateWorld(t===B?e.actions.left.modifier:e.actions.right.modifier),this.checkEndgame()):this.findNewWorldToDestroy()}},{key:"updateWorld",value:function(e){var t=Object.assign({},this.state.world),n={world:Object.entries(e).reduce((function(e,t){var n=Object(l.a)(t,2),a=n[0],i=n[1];return e[a]=Math.max(Math.min(i+e[a],100),0),e}),t)};this.setState(n)}},{key:"checkEndgame",value:function(){var e=this;Object.values(this.state.world).some((function(e){return e<=0}))&&window.setTimeout((function(){e.setState({hasEnded:!0})}),600)}},{key:"findNewWorldToDestroy",value:function(){var e=this;window.setTimeout((function(){e.setState(e.getInitialState())}),600)}}]),t}(a.Component),T=c.a.main.withConfig({displayName:"App__Container",componentId:"sc-9rzb8l-0"})(["position:absolute;top:0;left:0;width:100vw;height:100%;background:#546a76;display:grid;grid-template-rows:minmax(50px,80px) auto minmax(50px,80px);"]);var A=function(){return i.a.createElement(T,null,i.a.createElement(M,null))};o.a.render(i.a.createElement(A,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.8cb5dc1c.chunk.js.map