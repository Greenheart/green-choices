var t=Object.defineProperty,e=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,a,s)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,o=(t,e)=>{for(var a in e||(e={}))n.call(e,a)&&i(t,a,e[a]);if(s)for(var a of s(e))r.call(e,a)&&i(t,a,e[a]);return t},c=(t,s)=>e(t,a(s));import{S as l,i as u,s as d,e as f,c as h,a as m,d as p,b as g,K as v,f as x,F as w,J as y,t as $,k as b,j as E,g as S,n as j,m as O,o as I,h as k,x as L,u as D,v as M,r as _,w as P,L as V,D as A,M as X,N as R,G as z,H as C,I as N,O as Y,P as H,Q as F,R as W,C as J,l as T,A as U,T as B,U as G}from"../chunks/vendor-72d9e3c9.js";var K,Q;(Q=K||(K={}))[Q.Left=-1]="Left",Q[Q.Right=1]="Right";function q(t,e){return e.some((e=>function(t,{vars:e={},flags:a={}}){const s=Object.entries(e).every((([e,[a,s]])=>t.vars[e]>=a&&t.vars[e]<=s));return s&&Object.entries(a).every((([e,a])=>!!t.flags[e]===a))}(t,e)))}class Z{constructor(t,e,a,s={}){const{random:n=Math.random,tickModifiers:r=[]}=s;this._cards=t,this._random=n,this._tickModifiers=r,this._initialParams=a,this._stats=e}get stats(){return this._stats}get initialState(){return this.applyAction({params:this._initialParams},(t=>t))}applyAction(t,e){const a=this._applyModifiers(c(o({},t),{card:void 0}),[e,...this._tickModifiers]);return a.card?a:c(o({},a),{card:this._selectWeightedRandomFrom(this._getAvailableCards(a))})}_applyModifiers(t,e){return e.reduce(((t,e)=>e(t)),t)}_getAvailableCards(t){const e=this._cards.filter((e=>e.match(t))),a={};for(const s of e)a[s.priority]=a[s.priority]?a[s.priority].concat(s):[s];return a[Math.min(...Object.keys(a).map((t=>parseInt(t,10))))]}_selectWeightedRandomFrom(t,e=(t=>t.weight)){const{selectionList:a,count:s}=t.reduce(((t,a)=>(t.count+=e(a),t.selectionList.push(t.count),t)),{count:0,selectionList:[]}),n=this._random()*s;return t[a.findIndex(((t,e,a)=>{const s=e>0?a[e-1]:0;return n>=s&&n<=t}))]}}const tt=t=>{var e;return c(o({},t),{params:{vars:c(o({},t.params.vars),{rounds:(null!=(e=t.params.vars.rounds)?e:0)+1}),flags:t.params.flags}})};function et(t,e,a,s){return n=>{const r=n.params,i=e.map((t=>{var e;return null!=(e=r.vars[t])?e:0})),l=s?i.reduce(((t,e)=>a(t,e)),s):i.reduce(((t,e)=>a(t,e)));return c(o({},n),{params:{flags:n.params.flags,vars:c(o({},n.params.vars),{[t]:l})}})}}function at(t){return t.map((t=>{switch(t.type){case"round":return tt;case"cycle":return s=t.id,n=t.length,t=>{var e;return c(o({},t),{params:{vars:c(o({},t.params.vars),{[s]:((null!=(e=t.params.vars[s])?e:0)+1)%n}),flags:t.params.flags}})};case"min":return et(t.targetId,t.sourceIds,((t,e)=>Math.min(t,e)));case"max":return et(t.targetId,t.sourceIds,((t,e)=>Math.max(t,e)));case"sum":return et(t.targetId,t.sourceIds,((t,e)=>t+e),0);case"debug":return e=t.stateIds,a=t.flagIds,t=>{const s=t.params,n=void 0===e?s.vars:e.reduce(((t,e)=>(t[e]=s.vars[e],t)),{}),r=void 0===a?s.flags:a.reduce(((t,e)=>(t[e]=s.flags[e],t)),{});return Object.keys(n).length>0&&console.table(n),Object.keys(r).length>0&&console.table(r),t};default:throw new Error("Missing modifier type: "+t.type)}var e,a,s,n}))}function st(t,e=Math.random){const a={flags:t.defaultState.flags,vars:t.defaultState.state},s=function(t,e){const a=Object.keys(t).reduce(((a,s)=>{const n=t[s];return a[s]=function(t,e){const a=("isAvailableWhen"in t?t.isAvailableWhen:[]).map(it);return{id:t.id,image:t.image,title:t.title,text:t.text,location:t.location,match:t=>q(t.params,a),weight:t.weight,actions:{left:rt(t.actions.left,e,"No"),right:rt(t.actions.right,e,"Yes")},priority:t.priority}}(n,e),a}),{});for(const s in a){const e=t[s],n=a[s];n.actions.left.modifier=nt(e.actions.left,a,n.actions.left.modifier),n.actions.right.modifier=nt(e.actions.right,a,n.actions.right.modifier)}return a}(t.cards.reduce(((t,e)=>(t[e.id]=e,t)),{}),a);console.log("Loaded cards:",s);const n=function(t){return e=t.map((t=>t.id)),a=0,s=100,t=>c(o({},t),{params:{flags:t.params.flags,vars:o(o({},t.params.vars),e.reduce(((e,n)=>{const r=t.params.vars[n];return void 0!==r&&(e[n]=Math.max(a,Math.min(s,r))),e}),{}))}});var e,a,s}(t.stats),r=function(t){return t.map((t=>c(o({},t),{getValue:({params:e})=>{var a;return null!=(a=e.vars[t.id])?a:0}})))}(t.stats),i=at(t.worldStateModifiers);return new Z(Object.values(s),r,a,{tickModifiers:[...i,n],random:e})}function nt(t,e,a){const s=t.next?e[t.next]:void 0;return s?t=>c(o({},a(t)),{card:s}):a}function rt(t,e,a){var s;return{description:null!=(s=t.description)?s:a,modifier:a=>function(t,e,a){return c(o({},t),{params:{vars:e.reduce(((t,e)=>function(t,e,a){const s="replace"===e.type?Object.assign({},a):Object.assign({},t),n=e.state||{};return Object.entries(n).reduce(((t,[a,s])=>{const n="set"===e.type||"replace"===e.type?s:s+(t[a]||0);return t[a]=Math.min(Math.max(n,0),100),t}),s)}(t,e,a.vars)),t.params.vars),flags:e.reduce(((t,e)=>function(t,e,a){const s="replace"===e.type?Object.assign({},a):Object.assign({},t),n=e.flags||{};return Object.entries(n).reduce(((t,[e,a])=>(t[e]=a,t)),s)}(t,e,a.flags)),t.params.flags)}})}(a,t.modifiers,e),next:t.next}}function it(t){return{vars:t.state,flags:t.flags}}async function ot(t){return await async function(t){const e=t.match(/^local:\/\/(.*)/);if(e){const t="game_world:"+e[1],a={stats:[],cards:[],defaultState:{state:{},flags:{}},worldStateModifiers:[]},s=localStorage.getItem(t),n=s?JSON.parse(s):null;if(!n)throw new Error("Could not load data from local storage: "+t);return Object.assign(a,n)}return null}(t)||await async function(t){return console.log("Fetching path: ",t),await(await window.fetch(t)).json()}(t)}function ct(t){let e,a;return{c(){e=f("div"),a=f("div"),this.h()},l(t){e=h(t,"DIV",{class:!0});var s=m(e);a=h(s,"DIV",{class:!0,style:!0}),m(a).forEach(p),s.forEach(p),this.h()},h(){g(a,"class","relative h-full bg-white"),v(a,"width",t[0]+"%"),g(e,"class","w-8 h-1 2xs:w-10 2xs:h-1.5 xs:w-12 xs:h-2 bg-gray-800 shadow-lg")},m(t,s){x(t,e,s),w(e,a)},p(t,[e]){1&e&&v(a,"width",t[0]+"%")},i:y,o:y,d(t){t&&p(e)}}}function lt(t,e,a){let{value:s}=e;return t.$$set=t=>{"value"in t&&a(0,s=t.value)},[s]}class ut extends l{constructor(t){super(),u(this,t,lt,ct,d,{value:0})}}function dt(t,e,a){const s=t.slice();return s[1]=e[a],s}function ft(t){let e,a,s,n,r,i,o,c=t[1].name.slice(0,2)+"";return r=new ut({props:{value:t[1].value}}),{c(){e=f("div"),a=f("div"),s=$(c),n=b(),E(r.$$.fragment),i=b(),this.h()},l(t){e=h(t,"DIV",{class:!0});var o=m(e);a=h(o,"DIV",{class:!0});var l=m(a);s=S(l,c),l.forEach(p),n=j(o),O(r.$$.fragment,o),i=j(o),o.forEach(p),this.h()},h(){g(a,"class","w-8 h-8 2xs:w-10 2xs:h-10 xs:w-12 xs:h-12 rounded-full bg-white grid place-items-center shadow-lg mb-2 xs:mb-3 text-black text-sm"),g(e,"class","flex justify-between items-center flex-col")},m(t,c){x(t,e,c),w(e,a),w(a,s),w(e,n),I(r,e,null),w(e,i),o=!0},p(t,e){(!o||1&e)&&c!==(c=t[1].name.slice(0,2)+"")&&k(s,c);const a={};1&e&&(a.value=t[1].value),r.$set(a)},i(t){o||(L(r.$$.fragment,t),o=!0)},o(t){D(r.$$.fragment,t),o=!1},d(t){t&&p(e),M(r)}}}function ht(t){let e,a,s=t[0],n=[];for(let i=0;i<s.length;i+=1)n[i]=ft(dt(t,s,i));const r=t=>D(n[t],1,1,(()=>{n[t]=null}));return{c(){e=f("header");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=h(t,"HEADER",{class:!0});var a=m(e);for(let e=0;e<n.length;e+=1)n[e].l(a);a.forEach(p),this.h()},h(){g(e,"class","flex bg-green-700 xs:space-x-10 justify-around xs:justify-center items-center p-2 2xs:p-4 shadow-lg")},m(t,s){x(t,e,s);for(let a=0;a<n.length;a+=1)n[a].m(e,null);a=!0},p(t,[a]){if(1&a){let i;for(s=t[0],i=0;i<s.length;i+=1){const r=dt(t,s,i);n[i]?(n[i].p(r,a),L(n[i],1)):(n[i]=ft(r),n[i].c(),L(n[i],1),n[i].m(e,null))}for(_(),i=s.length;i<n.length;i+=1)r(i);P()}},i(t){if(!a){for(let t=0;t<s.length;t+=1)L(n[t]);a=!0}},o(t){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)D(n[e]);a=!1},d(t){t&&p(e),V(n,t)}}}function mt(t,e,a){let{stats:s}=e;return t.$$set=t=>{"stats"in t&&a(0,s=t.stats)},[s]}class pt extends l{constructor(t){super(),u(this,t,mt,ht,d,{stats:0})}}function gt(t){let e,a,s,n;function r(t,r,i){"panstart"===t&&(s=r,n=i);const o={x:r,y:i,dx:r-e,dy:i-a,startY:n,startX:s,totalDeltaX:r-s,totalDeltaY:i-n};return e=r,a=i,new CustomEvent(t,{detail:o})}function i(e){t.dispatchEvent(r("panstart",e.clientX,e.clientY)),window.addEventListener("mousemove",o),window.addEventListener("mouseup",c)}function o(e){t.dispatchEvent(r("panmove",e.clientX,e.clientY))}function c(e){t.dispatchEvent(r("panend",e.clientX,e.clientY)),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",c)}return t.addEventListener("mousedown",i),{destroy(){t.removeEventListener("mousedown",i)}}}function vt(t){let e,a,s,n,r,i,o;return{c(){e=f("div"),a=f("div"),s=f("span"),n=$(t[2]),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=m(e);a=h(i,"DIV",{class:!0,style:!0});var o=m(a);s=h(o,"SPAN",{class:!0,style:!0});var c=m(s);n=S(c,t[2]),c.forEach(p),o.forEach(p),i.forEach(p),this.h()},h(){g(s,"class",r="relative top-60 "+(t[3]===K.Left?"right-40":"left-40")),v(s,"text-shadow","0 2px 4px #000"),g(a,"class",i="absolute -top-56 bg-gray-800 bg-opacity-50 text-md w-[180%] h-80 p-4 overflow-hidden "+(t[3]===K.Left?"-right-40 text-right":"-left-40")),v(a,"transform","rotate("+-.05*t[6].x+"deg)"),v(a,"opacity",t[4]),g(e,"class",o="absolute overflow-hidden "+t[0])},m(t,r){x(t,e,r),w(e,a),w(a,s),w(s,n)},p(t,c){4&c&&k(n,t[2]),8&c&&r!==(r="relative top-60 "+(t[3]===K.Left?"right-40":"left-40"))&&g(s,"class",r),8&c&&i!==(i="absolute -top-56 bg-gray-800 bg-opacity-50 text-md w-[180%] h-80 p-4 overflow-hidden "+(t[3]===K.Left?"-right-40 text-right":"-left-40"))&&g(a,"class",i),64&c&&v(a,"transform","rotate("+-.05*t[6].x+"deg)"),16&c&&v(a,"opacity",t[4]),1&c&&o!==(o="absolute overflow-hidden "+t[0])&&g(e,"class",o)},d(t){t&&p(e)}}}function xt(t){let e,a,s,n,r,i,o=t[2]&&t[3]&&vt(t);const c=t[13].default,l=A(c,t,t[12],null);return{c(){e=f("div"),o&&o.c(),a=b(),l&&l.c(),this.h()},l(t){e=h(t,"DIV",{class:!0,style:!0});var s=m(e);o&&o.l(s),a=j(s),l&&l.l(s),s.forEach(p),this.h()},h(){g(e,"class","shadow-md rounded-md cursor-move select-none relative"),g(e,"style",s="transform:\r\n        translate3d("+t[6].x+"px, "+t[6].y+"px, 0)\r\n        rotate("+.05*t[6].x+"deg);\r\n        "+(t[1]?wt:""))},m(s,c){x(s,e,c),o&&o.m(e,null),w(e,a),l&&l.m(e,null),n=!0,r||(i=[X(gt.call(null,e)),R(e,"panstart",t[7]),R(e,"panmove",t[8]),R(e,"panend",t[9])],r=!0)},p(t,[r]){t[2]&&t[3]?o?o.p(t,r):(o=vt(t),o.c(),o.m(e,a)):o&&(o.d(1),o=null),l&&l.p&&(!n||4096&r)&&z(l,c,t,t[12],n?N(c,t[12],r,null):C(t[12]),null),(!n||66&r&&s!==(s="transform:\r\n        translate3d("+t[6].x+"px, "+t[6].y+"px, 0)\r\n        rotate("+.05*t[6].x+"deg);\r\n        "+(t[1]?wt:"")))&&g(e,"style",s)},i(t){n||(L(l,t),n=!0)},o(t){D(l,t),n=!1},d(t){t&&p(e),o&&o.d(),l&&l.d(t),r=!1,Y(i)}}}const wt="transition: transform 250ms ease-out";function yt(t,e,a){let s,{$$slots:n={},$$scope:r}=e;var i=this&&this.__awaiter||function(t,e,a,s){return new(a||(a=Promise))((function(n,r){function i(t){try{c(s.next(t))}catch(e){r(e)}}function o(t){try{c(s.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(i,o)}c((s=s.apply(t,e||[])).next())}))};let o,{onSwipe:c}=e,{actions:l}=e,{imageSize:u}=e,d=!1,f="",h=0;const m=H({x:0,y:0},{stiffness:.2,damping:.4});return F(t,m,(t=>a(6,s=t))),t.$$set=t=>{"onSwipe"in t&&a(10,c=t.onSwipe),"actions"in t&&a(11,l=t.actions),"imageSize"in t&&a(0,u=t.imageSize),"$$scope"in t&&a(12,r=t.$$scope)},[u,d,f,o,h,m,s,function(){a(5,m.stiffness=a(5,m.damping=1,m),m)},function(t){m.update((e=>({x:e.x+t.detail.dx,y:e.y+t.detail.dy}))),t.detail.totalDeltaX>0?(a(2,f=l.right.description),a(3,o=K.Right),a(4,h=.017*t.detail.totalDeltaX)):t.detail.totalDeltaX<0&&(a(2,f=l.left.description),a(3,o=K.Left),a(4,h=Math.abs(.017*t.detail.totalDeltaX)))},function(t){return i(this,void 0,void 0,(function*(){a(2,f=""),a(3,o=void 0),a(4,h=0),t.detail.totalDeltaX>100?(a(1,d=!0),W(m,s.x=200+window.innerHeight*K.Right,s),yield c(K.Right),a(1,d=!1)):t.detail.totalDeltaX<-100?(a(1,d=!0),W(m,s.x=200+window.innerHeight*K.Left,s),yield c(K.Left),a(1,d=!1)):(a(5,m.stiffness=.2,m),a(5,m.damping=.8,m)),m.set({x:0,y:0})}))},c,l,r,n]}class $t extends l{constructor(t){super(),u(this,t,yt,xt,d,{onSwipe:10,actions:11,imageSize:0})}}function bt(t){let e;return{c(){e=f("div"),this.h()},l(t){e=h(t,"DIV",{style:!0,class:!0}),m(e).forEach(p),this.h()},h(){v(e,"background-image","url("+t[0].image+")"),g(e,"class","bg-no-repeat bg-center "+St+" z-10 bg-cover")},m(t,a){x(t,e,a)},p(t,a){1&a&&v(e,"background-image","url("+t[0].image+")")},d(t){t&&p(e)}}}function Et(t){let e,a,s,n,r,i,o,c,l,u,d,v,y,_,P,V=t[0].text+"",A=t[0].title+"",X=t[0].location+"";return c=new $t({props:{onSwipe:t[1],actions:t[0].actions,imageSize:St,$$slots:{default:[bt]},$$scope:{ctx:t}}}),{c(){e=f("div"),a=f("p"),s=$(V),n=b(),r=f("div"),i=f("div"),o=b(),E(c.$$.fragment),l=b(),u=f("h2"),d=$(A),v=b(),y=f("p"),_=$(X),this.h()},l(t){e=h(t,"DIV",{class:!0});var f=m(e);a=h(f,"P",{class:!0});var g=m(a);s=S(g,V),g.forEach(p),n=j(f),r=h(f,"DIV",{class:!0});var x=m(r);i=h(x,"DIV",{class:!0}),m(i).forEach(p),o=j(x),O(c.$$.fragment,x),x.forEach(p),l=j(f),u=h(f,"H2",{class:!0});var w=m(u);d=S(w,A),w.forEach(p),v=j(f),y=h(f,"P",{class:!0});var $=m(y);_=S($,X),$.forEach(p),f.forEach(p),this.h()},h(){g(a,"class","text-center xs:py-4 h-36 2xs:h-44 xs:h-56 flex place-items-center px-4 xs:px-8"),g(i,"class","absolute z-0 "+St+" top-0 left-0 bg-gray-900"),g(r,"class",St+" relative"),g(u,"class","mt-2 xs:mt-4"),g(y,"class","text-gray-300 mb-2 xs:mb-4"),g(e,"class","flex flex-col items-center justify-center text-white 2xs:text-lg xs:text-xl font-light max-w-prose m-auto")},m(t,f){x(t,e,f),w(e,a),w(a,s),w(e,n),w(e,r),w(r,i),w(r,o),I(c,r,null),w(e,l),w(e,u),w(u,d),w(e,v),w(e,y),w(y,_),P=!0},p(t,[e]){(!P||1&e)&&V!==(V=t[0].text+"")&&k(s,V);const a={};2&e&&(a.onSwipe=t[1]),1&e&&(a.actions=t[0].actions),5&e&&(a.$$scope={dirty:e,ctx:t}),c.$set(a),(!P||1&e)&&A!==(A=t[0].title+"")&&k(d,A),(!P||1&e)&&X!==(X=t[0].location+"")&&k(_,X)},i(t){P||(L(c.$$.fragment,t),P=!0)},o(t){D(c.$$.fragment,t),P=!1},d(t){t&&p(e),M(c)}}}const St="w-[60vmin] h-[60vmin] 2xs:w-[85vmin] 2xs:h-[85vmin] max-w-[400px] max-h-[400px] rounded-lg";function jt(t,e,a){let{card:s}=e,{onSwipe:n}=e;return t.$$set=t=>{"card"in t&&a(0,s=t.card),"onSwipe"in t&&a(1,n=t.onSwipe)},[s,n]}class Ot extends l{constructor(t){super(),u(this,t,jt,Et,d,{card:0,onSwipe:1})}}function It(t){let e,a;return e=new Ot({props:{card:t[0].card,onSwipe:t[3]}}),{c(){E(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,s){I(e,t,s),a=!0},p(t,a){const s={};1&a&&(s.card=t[0].card),e.$set(s)},i(t){a||(L(e.$$.fragment,t),a=!0)},o(t){D(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function kt(t){let e,a,s,n;a=new pt({props:{stats:t[1]}});let r=t[0].card&&It(t);return{c(){e=f("main"),E(a.$$.fragment),s=b(),r&&r.c(),this.h()},l(t){e=h(t,"MAIN",{class:!0});var n=m(e);O(a.$$.fragment,n),s=j(n),r&&r.l(n),n.forEach(p),this.h()},h(){g(e,"class","text-white")},m(t,i){x(t,e,i),I(a,e,null),w(e,s),r&&r.m(e,null),n=!0},p(t,[s]){const n={};2&s&&(n.stats=t[1]),a.$set(n),t[0].card?r?(r.p(t,s),1&s&&L(r,1)):(r=It(t),r.c(),L(r,1),r.m(e,null)):r&&(_(),D(r,1,1,(()=>{r=null})),P())},i(t){n||(L(a.$$.fragment,t),L(r),n=!0)},o(t){D(a.$$.fragment,t),D(r),n=!1},d(t){t&&p(e),M(a),r&&r.d()}}}function Lt(t,e,a){let s,{game:n}=e;const r=J(n.initialState);let i;return F(t,r,(t=>a(0,s=t))),t.$$set=t=>{"game"in t&&a(4,n=t.game)},t.$$.update=()=>{17&t.$$.dirty&&a(1,i=n.stats.map((t=>Object.assign({},t,{value:t.getValue(s)}))))},[s,i,r,function(t){if(!s.card)return Promise.resolve();const e=t===K.Left?s.card.actions.left.modifier:s.card.actions.right.modifier;return new Promise((t=>{setTimeout((()=>{W(r,s=n.applyAction(s,e),s),t()}),250)}))},n]}class Dt extends l{constructor(t){super(),u(this,t,Lt,kt,d,{game:4})}}function Mt(t){let e,a;return{c(){e=f("p"),a=$("Loading..."),this.h()},l(t){e=h(t,"P",{class:!0});var s=m(e);a=S(s,"Loading..."),s.forEach(p),this.h()},h(){g(e,"class","grid place-items-center mt-40 text-white font-black text-2xl tracking-widest")},m(t,s){x(t,e,s),w(e,a)},p:y,i:y,o:y,d(t){t&&p(e)}}}function _t(t){let e,a,s,n={ctx:t,current:null,token:null,hasCatch:!1,pending:At,then:Vt,catch:Pt,value:3,blocks:[,,,]};return B(a=t[1](t[0]),n),{c(){e=T(),n.block.c()},l(t){e=T(),n.block.l(t)},m(t,a){x(t,e,a),n.block.m(t,n.anchor=a),n.mount=()=>e.parentNode,n.anchor=e,s=!0},p(e,s){t=e,n.ctx=t,1&s&&a!==(a=t[1](t[0]))&&B(a,n)||G(n,t,s)},i(t){s||(L(n.block),s=!0)},o(t){for(let e=0;e<3;e+=1){const t=n.blocks[e];D(t)}s=!1},d(t){t&&p(e),n.block.d(t),n.token=null,n=null}}}function Pt(t){return{c:y,l:y,m:y,p:y,i:y,o:y,d:y}}function Vt(t){let e,a;return e=new Dt({props:{game:t[3]}}),{c(){E(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,s){I(e,t,s),a=!0},p(t,a){const s={};1&a&&(s.game=t[3]),e.$set(s)},i(t){a||(L(e.$$.fragment,t),a=!0)},o(t){D(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function At(t){return{c:y,l:y,m:y,p:y,i:y,o:y,d:y}}function Xt(t){let e,a,s,n;const r=[_t,Mt],i=[];function o(t,e){return t[0]?0:1}return e=o(t),a=i[e]=r[e](t),{c(){a.c(),s=T()},l(t){a.l(t),s=T()},m(t,a){i[e].m(t,a),x(t,s,a),n=!0},p(t,[n]){let c=e;e=o(t),e===c?i[e].p(t,n):(_(),D(i[c],1,1,(()=>{i[c]=null})),P(),a=i[e],a?a.p(t,n):(a=i[e]=r[e](t),a.c()),L(a,1),a.m(s.parentNode,s))},i(t){n||(L(a),n=!0)},o(t){D(a),n=!1},d(t){i[e].d(t),t&&p(s)}}}function Rt(t,e,a){var s=this&&this.__awaiter||function(t,e,a,s){return new(a||(a=Promise))((function(n,r){function i(t){try{c(s.next(t))}catch(e){r(e)}}function o(t){try{c(s.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(i,o)}c((s=s.apply(t,e||[])).next())}))};let n;return U((()=>{var t;const e=new URLSearchParams(window.location.search);a(0,n=null!==(t=e.get("path"))&&void 0!==t?t:"https://muthaias.github.io/swipeforfuture-content/default")})),[n,function(t){return s(this,void 0,void 0,(function*(){const e=yield ot(t);if(e)return st(e);throw new Error(`Could not load scenario data: ${t}`)}))}]}class zt extends l{constructor(t){super(),u(this,t,Rt,Xt,d,{})}}export{zt as default};
